<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<settings>

    <!-- ============================= -->
    <!-- SUBTITLES -->
    <!-- ============================= -->
    <category label="Subtitles">

        <setting id="sub_folder"
                 type="folder"
                 label="Subtitle Save Folder"
                 default="/storage/emulated/0/Download/sub/" />

        <setting type="lsep" label="Important Setup" />

        <setting type="text"
                 label="Kodi must use same path for 'Custom Subtitle Location'"
                 enable="false" />

    </category>


    <!-- ============================= -->
    <!-- AI ENGINE -->
    <!-- ============================= -->
    <category label="AI Engine">

        <setting id="provider"
                 type="enum"
                 label="Active Engine"
                 values="Gemini|OpenAI"
                 default="0" />

        <!-- Gemini Settings -->
        <setting type="lsep" label="Gemini Settings" />

        <setting id="api_key"
                 type="text"
                 label="Gemini API Key"
                 default="" />

        <setting id="model"
                 type="enum"
                 label="Gemini Model"
                 values="Gemini 2.0 Flash|Gemini 1.5 Flash|Gemini 2.5 Flash"
                 default="0" />

        <!-- OpenAI Settings -->
        
        <setting type="lsep" label="OpenAI Settings" />
        
        <setting id="openai_api_key"
                 type="text"
                 label="OpenAI API Key"
                 default="" />

        <setting id="openai_model"
                 type="enum"
                 label="OpenAI Model"
                 values="gpt-4o-mini|gpt-4o|gpt-5-mini"
                 default="0" />

    </category>


    <!-- ============================= -->
    <!-- TRANSLATION TUNING -->
    <!-- ============================= -->
    <category label="Tuning">

        <setting id="source_lang"
                 type="enum"
                 label="Source Language"
                 values="Arabic|Catalan|Chinese|Croatian|Czech|Danish|Dutch|English|Finnish|French|German|Greek|Hebrew|Hindi|Hungarian|Italian|Japanese|Korean|Norwegian|Polish|Portuguese|Romanian|Russian|Slovenian|Spanish|Swedish|Thai|Turkish|Vietnamese"
                 default="7" />

        <setting id="target_lang"
                 type="enum"
                 label="Target Language"
                 values="Arabic|Catalan|Chinese|Croatian|Czech|Danish|Dutch|English|Finnish|French|German|Greek|Hebrew|Hindi|Hungarian|Italian|Japanese|Korean|Norwegian|Polish|Portuguese|Romanian|Russian|Slovenian|Spanish|Swedish|Thai|Turkish|Vietnamese"
                 default="21" />

        <setting id="translation_style"
                 type="enum"
                 label="Translation Style"
                 values="Family-Friendly|Natural|Gritty / Adult"
                 default="0" />
        
        <setting id="temp"
                 type="text"
                 label="Temperature (0.0 - 1.0)"
                 default="0.15" />

        <setting id="chunk_size"
                 type="number"
                 label="Dialogue Lines per Chunk"
                 default="50" />

    </category>


    <!-- ============================= -->
    <!-- ADVANCED -->
    <!-- ============================= -->
    <category label="Advanced">

        <setting id="show_stats"
                 type="bool"
                 label="Show Success Page Statistics"
                 default="true" />

        <setting id="notify_mode"
                 type="bool"
                 label="Simple Notifications"
                 default="true" />

        <setting type="lsep" label="" />
        <!-- ---------------------------------------------------------- -->
        <!-- NEW: Live Translation (progressive subtitle writing)       -->
        <!-- Writes partial SRT after each successful chunk             -->
        <!-- Keeps timestamps fully controlled by Translatarr           -->
        <!-- ---------------------------------------------------------- -->
        
        <setting id="live_translation"
                 type="bool"
                 label="Enable Live Translation (Experimental)"
                 default="false" />

        <setting id="debug_mode"
                 type="bool"
                 label="Enable Debug Mode"
                 default="false" />

        <settingf type="lsep" label="Information" />

        <setting id="show_changelog"
                 type="action"
                 label="View Change Log"
                 action="RunScript(service.translatarr,show_changelog)" />

    </category>

</settings>


